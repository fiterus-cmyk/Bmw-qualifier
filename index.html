<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your BMW at Hedin Ruxley</title>
    <style>
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 0; background: #f5f5f5; color: #1a1a1a; }
        .header { background: linear-gradient(135deg, #1a1a1a, #2d2d2d); color: white; padding: 35px 20px; text-align: center; box-shadow: 0 8px 24px rgba(0,0,0,0.4); border-bottom: 3px solid #003087; }
        .header .bmw-logo { font-size: 13px; font-weight: 700; letter-spacing: 3px; color: #003087; margin-bottom: 12px; }
        .header h1 { margin: 0; font-size: 32px; font-weight: 700; letter-spacing: -0.5px; }
        .header p { margin: 10px 0 0; opacity: 0.85; font-size: 14px; font-weight: 300; letter-spacing: 0.5px; }
        form { background: white; padding: 30px; margin: 20px; border-radius: 2px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); }
        label { display: block; margin: 20px 0 8px; font-weight: 600; color: #1a1a1a; font-size: 15px; letter-spacing: 0.3px; }
        input, select, textarea { width: 100%; padding: 14px; border: 1px solid #d0d0d0; border-radius: 2px; font-size: 15px; transition: border-color 0.2s; margin-bottom: 5px; font-family: 'Segoe UI', Arial, sans-serif; }
        input:focus, select:focus, textarea:focus { border-color: #003087; outline: none; box-shadow: 0 0 0 2px rgba(0,48,135,0.1); }
        fieldset { border: 1px solid #e0e0e0; border-radius: 2px; padding: 20px; margin: 25px 0; background: #fafafa; }
        legend { font-weight: 700; color: #1a1a1a; padding: 0 12px; font-size: 15px; letter-spacing: 0.5px; }
        button { background: linear-gradient(135deg, #1a1a1a, #2d2d2d); color: white; padding: 16px; border: none; border-radius: 2px; cursor: pointer; font-size: 16px; font-weight: 600; width: 100%; margin-top: 25px; box-shadow: 0 4px 16px rgba(0,0,0,0.3); transition: transform 0.2s, box-shadow 0.2s; letter-spacing: 1px; text-transform: uppercase; }
        button:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.4); }
        #result { margin: 20px; padding: 30px; background: linear-gradient(135deg, #d4edda, #c3e6cb); border-radius: 2px; text-align: center; box-shadow: 0 2px 12px rgba(0,0,0,0.1); display: none; }
        #result h2 { color: #155724; margin-top: 0; font-weight: 700; }
        .hidden { display: none; }
        @media (max-width: 480px) { 
            .header h1 { font-size: 26px; } 
            form { padding: 20px; margin: 15px; }
            .header { padding: 25px 15px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="bmw-logo">BMW HEDIN RUXLEY</div>
        <h1>Your Perfect BMW</h1>
        <p>Premium Recommendations. Personal Service. Delivered Instantly.</p>
    </div>

    <form id="bmwForm">
        <label>Name</label>
        <input type="text" id="contact" placeholder="e.g. John Doe" required>

        <label>What are you interested in?</label>
        <select id="interest" required>
            <option value="">Select...</option>
            <option value="new">New BMW</option>
            <option value="used">Approved Used BMW</option>
            <option value="open_minded">I'm open minded to new or used</option>
        </select>

        <label>Model or type you're interested in</label>
        <input type="text" id="model" placeholder="e.g. 3 Series, i4 M50, X3, or 'something sporty'">

        <fieldset>
            <legend>ðŸ’° Finance Preferences</legend>
            <label>How would you like to pay?</label>
            <select id="finance" required onchange="updateBudgetLabel()">
                <option value="">Select...</option>
                <option value="pcp">PCP (Personal Contract Purchase)</option>
                <option value="hp">HP (Hire Purchase)</option>
                <option value="outright">Outright purchase</option>
            </select>

            <label id="budgetLabel">Monthly budget</label>
            <input type="text" id="budget" placeholder="e.g. Â£400-600 per month">
            
            <label id="depositLabel">Deposit you have in mind</label>
            <input type="text" id="deposit" placeholder="e.g. Â£4,000">
        </fieldset>

        <label>Annual mileage</label>
        <input type="number" id="mileage" placeholder="e.g. 8,000">

        <label>Colour or spec preferences</label>
        <input type="text" id="spec" placeholder="e.g. M Sport, Black, Panoramic roof">

        <label>When are you looking to change?</label>
        <select id="timeline" required>
            <option value="">Select...</option>
            <option value="asap">ASAP</option>
            <option value="within_2_weeks">Within 2 weeks</option>
            <option value="next_month">At least by next month</option>
            <option value="not_near_future">Not in the near future</option>
        </select>

        <label>Would you like to test drive this model?</label>
        <select id="testdrive" required>
            <option value="">Select...</option>
            <option value="yes_asap">Yes, ASAP</option>
            <option value="yes_flexible">Yes, flexible dates</option>
            <option value="maybe_later">Maybe, but not immediately</option>
            <option value="no">No, just browsing</option>
        </select>

        <label>Do you have a car to part exchange?</label>
        <select id="has_px" required onchange="togglePXFields()">
            <option value="">Select...</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
        </select>

        <fieldset id="pxFieldset" class="hidden">
            <legend>ðŸš— Your Current Car (Part Exchange)</legend>
            <label>Registration</label>
            <input type="text" id="px_reg" placeholder="e.g. AB12 CDE">
            <label>Mileage</label>
            <input type="text" id="px_mileage" placeholder="e.g. 25,000 miles">
            <label>Service history</label>
            <select id="px_history">
                <option value="">Select...</option>
                <option value="full_dealership">Full Dealership history</option>
                <option value="full_mixed">Full History (Mixed Dealership/Other)</option>
                <option value="partial">Partial History</option>
                <option value="no_history">No History</option>
            </select>
            <label>Condition rating (out of 10)</label>
            <input type="number" id="px_condition" min="1" max="10" placeholder="e.g. 8">
            <label>Outstanding finance settlement</label>
            <input type="text" id="px_settlement" placeholder="e.g. Â£12,000 or 'paid off'">
        </fieldset>

        <label>Anything else we should know?</label>
        <textarea id="notes" rows="3" placeholder="e.g. specific features, preferred contact times..."></textarea>

        <button type="submit">Get My BMW Recommendations</button>
    </form>

    <div id="result">
        <h2>Perfect! ðŸŽ‰</h2>
        <p><strong>Dan at BMW Hedin Ruxley</strong> has received all your details and will send your personal BMW recommendations via WhatsApp shortly.</p>
        <p id="pxReminder" style="font-weight: 600; color: #155724; margin: 15px 0; display: none;">ðŸ“¸ Don't forget to send photos of your part exchange to Dan on WhatsApp!</p>
        <p style="font-size: 14px; opacity: 0.9;">Questions? Reply to Dan's message anytime.</p>
    </div>

    <script>
        const DAN_PHONE = '447827138197';

        function updateBudgetLabel() {
            const finance = document.getElementById('finance').value;
            const budgetLabel = document.getElementById('budgetLabel');
            const depositLabel = document.getElementById('depositLabel');
            
            if (finance === 'outright') {
                budgetLabel.textContent = 'Overall budget';
                document.getElementById('budget').placeholder = 'e.g. Â£30,000';
                depositLabel.style.display = 'none';
                document.getElementById('deposit').style.display = 'none';
            } else {
                budgetLabel.textContent = 'Monthly budget';
                document.getElementById('budget').placeholder = 'e.g. Â£400-600 per month';
                depositLabel.style.display = 'block';
                document.getElementById('deposit').style.display = 'block';
            }
        }

        function togglePXFields() {
            const hasPX = document.getElementById('has_px').value;
            const pxFieldset = document.getElementById('pxFieldset');
            
            if (hasPX === 'yes') {
                pxFieldset.classList.remove('hidden');
            } else {
                pxFieldset.classList.add('hidden');
            }
        }

        document.getElementById('bmwForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const fields = {
                contact: document.getElementById('contact').value,
                interest: document.getElementById('interest').value || 'Not specified',
                model: document.getElementById('model').value || 'Not specified',
                finance: document.getElementById('finance').value || 'Not specified',
                budget: document.getElementById('budget').value || 'TBC',
                deposit: document.getElementById('deposit').value || 'TBC',
                mileage: document.getElementById('mileage').value || 'TBC',
                spec: document.getElementById('spec').value || 'TBC',
                timeline: document.getElementById('timeline').value || 'TBC',
                testdrive: document.getElementById('testdrive').value || 'Not specified',
                has_px: document.getElementById('has_px').value,
                px_reg: document.getElementById('px_reg').value || 'None',
                px_mileage: document.getElementById('px_mileage').value || 'None',
                px_history: document.getElementById('px_history').value || 'None',
                px_condition: document.getElementById('px_condition').value || 'None',
                px_settlement: document.getElementById('px_settlement').value || 'None',
                notes: document.getElementById('notes').value || 'None'
            };

            // Build WhatsApp message
            let pxMessage = '';
            if (fields.has_px === 'yes') {
                pxMessage = `

ðŸš— PART EXCHANGE:
   Reg: ${fields.px_reg}
   Mileage: ${fields.px_mileage}
   Service History: ${fields.px_history}
   Condition: ${fields.px_condition}/10
   Settlement: ${fields.px_settlement}

ðŸ“¸ Customer note: I will send part exchange photos shortly`;
                document.getElementById('pxReminder').style.display = 'block';
            } else {
                pxMessage = `

ðŸš— No part exchange`;
            }

            const danMessage = `ðŸ†• NEW LEAD - BMW HEDIN RUXLEY

ðŸ“ž Name: ${fields.contact}
ðŸŽ¯ Interest: ${fields.interest}
ðŸš— Model: ${fields.model}
ðŸ’° Budget: ${fields.budget}
ðŸ’³ Deposit: ${fields.deposit}
ðŸ“‹ Finance: ${fields.finance}
ðŸ›£ï¸ Annual Mileage: ${fields.mileage}
ðŸŽ¨ Spec: ${fields.spec}
â° Timeline: ${fields.timeline}
ðŸš™ Test Drive: ${fields.testdrive}${pxMessage}

ðŸ“ Notes: ${fields.notes}`;

            // Show customer thank you
            document.getElementById('result').style.display = 'block';
            document.getElementById('bmwForm').style.display = 'none';
            document.getElementById('result').scrollIntoView({ behavior: 'smooth' });

            // Auto-open WhatsApp to DAN (you)
            setTimeout(() => {
                window.open(`https://wa.me/${DAN_PHONE}?text=${encodeURIComponent(danMessage)}`, '_blank');
            }, 500);
        });
    </script>
</body>
</html>
